# evanaly

## 功能

​	为民航管理人员提供事件发生地客流量的影响，从而有针对性地调整航班，便于人们出行和民航部门的管理运营。通过在相关事件主流网站采集政治会议、展会、体育赛事、演唱会、突发异常天气等五大类事件，通过自然语言处理和语义分析等技术，得到事件的主办方类型、主办方级别、影响群体、事件热度等主要属性，再通过这些属性进行数据拟合与画像建模，从而分析事件对当天事件发生地客流量的影响。通过民众到相应目的地选择出行方式的分析与判断，模拟民航的客流量，以直观的图表呈现及标注反应相关事件对客流量的影响，针对去往事件发生地的始发地展开航班预警、航班调整建议，方便民航管理人员及时作出相应调整。

## 系统首页

​	在浏览器地址栏键入系统地址，例如：http://58.193.0.117，进入系统首页，界面如下：

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/index.jpg"/></center>

<center>**图5-1 系统首页**</center>

- 左上角为本系统Logo，点击可以跳转到本系统的首页。
- 首页可以进行界面的轮转依次选取不同的版块：开始抓取事件、开始分析事件、显示客流量影响、显示天气情况，点击进入后可以进行相关操作。
- 点击“事件抓取”按钮，跳转到事件抓取界面。
- 点击“事件分析”按钮，跳转到事件分析界面。
- 点击“客流量影响”按钮，跳转到客流量影响界面。
- 点击“天气情况”按钮，跳转到天气情况界面。
- 成功登录系统后，会出现“系统管理”按钮，点击之后，弹出二级下拉列表：事件管理、天气源管理、人员管理，点击后进入相应的管理界面
- 右上角为成功登录后的用户名，鼠标移动到用户名后出现二级下拉列表：修改密码、退出登录，点击后进行相关的操作

## 系统登录

管理员点击首页右上角的“登录”按钮进入系统登录页。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/login.jpg"/></center>

<center>**图5-2 系统登录**</center>

- 系统登录支持账号密码登录和手机号快速登录
- 账号密码登录需要输入正确的工号、密码和验证码，密码采用MD5加密
- 手机号快速登录需要输入正确的手机号和收到的短信验证码
- 系统登录可以记住账号以方便下次登录
- 点击“忘记密码？”可以通过账户绑定的手机号设置新的密码

## 事件抓取

​	点击首页轮转版块、首页导航栏或系统左侧导航栏的“事件抓取”进入事件抓取页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/sprider.jpg"/></center>

<center>**图5-3 事件抓取规则**</center>

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/spiderr.jpg"/></center>

<center>**图5-4 事件抓取后分析**</center>

- 事件抓取规则：将事件类型、事件的举办城市、时间发生日期、事件的抓取来源进行自由组合，进行抓取
  - 事件类型：展会、演唱会、体育赛事、会议、地方性节假日(后两项将在下个版本中加入)，支持多选
  - 举办城市：按照字母表顺序排列，便于检索和勾选，支出多选
  - 事件日期：默认起始日期为当前日期，不支持选取历史日期，截止日期应在起始日期之后，且仅支持选取距起始日期一个月内的某一天
  - 事件来源：新华网、新浪网、易展网、展易网、大麦网、京东演出票
- 点击“抓取”按钮，抓取后的事件将会以部分主要属性的形式展现在事件列表的表格中，点击详情之后可以查看事件的全部属性
- 在事件列表之后是针对抓取到的事件根据大部分属性进行统计的图表展示，这些属性包含：事件类型、主办方类型、主办方级别、影响年龄阶段、最大影响范围、事件发生地、事件发生日期、事件热度、事件源
- 图表可以在柱形图和折线图之间相互转换，也支持下载为png格式的图片。

## 事件分析

​	点击首页轮转版块、首页导航栏或左侧导航栏的“事件分析”进入事件分析页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/week.jpg"/></center>

<center>**图5-5 未来一周事件分析**</center>

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/month.jpg"/></center>

<center>**图5-6 未来一月事件分析**</center>

- 事件分析分为未来一周事件分析和未来一月事件分析
- 事件分析的内容包含：事件类型分析、热门城市统计分析、事件的日期分布
- 图表展示主要分为：柱形图、折线图、饼图和雷达图，柱形图和折线图可以相互转换并支持以png格式下载为图片，饼图可以自定义展现元素，各类图都支持鼠标的悬停事件，显示具体详情

## 客流量影响

​	点击首页轮转版块、首页导航栏或左侧导航栏的“客流量影响”进入客流量影响页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/traffic.jpg"/></center>

<center>**图5-7 事件影响人数预测**</center>

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/number.jpg"/></center>

<center>**图5-8 事件影响人数分析**</center>

- 查询规则：根据航线出发地、目的地、出行日期进行自由组合查询
- 事件对特定出行选择的具体客流量影响以表格的形式呈现，用户可以从表格中查看到具体事件的影响人数和影响人数总计，还可以通过点击“查看航班列表”查看当天从出发地到目的地的具体航班列表
- 此外在表格下方还以图标的形式直观呈现各类事件影响的人数统计，图的形式有柱形图、折线图、饼图和雷达图，柱形图和折线图可以相互转换并支持以png格式下载为图片，饼图可以自定义展现元素，各类图都支持鼠标的悬停事件，显示具体详情

## 天气情况

​	点击首页轮转版块、首页导航栏或左侧导航栏的“天气情况”进入天气情况页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/weather.jpg"/></center>

<center>**图5-9 近五天天气情况**</center>

- 对于已经开启定位的用户将会自动呈现当地天气情况，没有开启会默认呈现北京市的天气情况
- 点击定位图标，待选城市按照字母表顺序排列，便于检索和勾选，选定城市后天气情况会自动呈现在下方
- 在天气情况界面会呈现最近五天的具体天气情况，主要包含：异常天气情况、风力、高低温范围

## 航班预警图

​   点击首页轮转版块、首页导航栏或左侧导航栏的“航班预警图”进入航班预警图页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/city_yj.jpg"/></center>

<center>**图5-10 城市预警**</center>

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/routes_yj.jpg"/></center>

<center>**图5-11 航线预警**</center>

- 航班预警图会自动切换最近一周内的预警信息，可以手动选择某一天或者关闭自动切换
- 预警图右侧会有相应的图例，对应不同的人流量预警信息
- 鼠标移动至相应城市或相应航线会提示具体的人流量数值

## 事件管理

​	系统管理员通过点击首页导航栏或左侧导航栏的系统管理中的“事件管理”进入事件管理页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/manageevent.jpg"/></center>

<center>**图5-12 事件管理**</center>

- 默认全查，事件查询规则：将事件名称、事件的举办城市、时间发生日期、一年内频率、主办方级别、影响年龄段、是否有固定参与人群、影响社会群体、最大影响范围、事件类型、事件热度、事件历史悠久程度进行自由组合，进行查询
  - 事件名称为手动文本输入，支持模糊查询
  - 举办城市：按照字母表顺序排列，便于检索和勾选
  - 事件日期：默认起始日期为当前日期，不支持选取历史日期，截止日期应在起始日期之后，且仅支持选取距起始日期一个月内的某一天
  - 一年内频率为手动文本输入，为有效正整数
  - 其他可选查询规则通过从下拉列表选取的形式添加
- 点击“查询”按钮，查询后的事件将会以部分主要属性的形式展现在事件列表的表格中，点击详情之后可以查看事件的全部属性。
- 事件管理的基本操作包含对查询到的事件进行编辑和删除
- 支持全选后批量删除

## 天气源管理

​	系统管理员通过点击首页导航栏或左侧导航栏的系统管理中的“天气源管理”进入天气源管理页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/manageweather.jpg"/></center>

<center>**图5-13 天气源管理**</center>

- 默认全查，输入城市名，支持模糊查询，查询到的天气源以列表形式展现在页面中，支持查看详情
- 可以新增天气源，包含城市名，两个天气源具体地址
- 查询到的天气源可以查看详情，编辑和删除
- 支持全选后批量删除

## 人员管理

​	系统管理员通过点击首页导航栏或左侧导航栏的系统管理中的“人员管理”进入人员管理页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/manageperson.jpg"/></center>

<center>**图5-14 人员管理**</center>

- 默认全查，输入用户名，支持模糊查询，查询到的员工以列表形式展现在页面中，支持查看详情
- 员工信息包含：工号、姓名、权限、电话、邮箱
- 支持新增员工，支持批量导入员工(需要下载导入样本，根据样本提示完善表格)
- 员工管理基本操作包括编辑和删除
- 支持全选后批量删除

## 城市管理

​   系统管理员通过点击首页导航栏或左侧导航栏的系统管理中的“城市管理”进入城市管理页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/managecity.jpg"/></center>

<center>**图5-15 城市管理**</center>

- 默认全查，输入城市名，支持模糊查询，查询到的城市以列表形式展现在页面中
- 城市信息包含：城市名、正常人流量、紧张人流量、饱和人流量
- 支持新增城市
- 城市管理基本操作包括编辑和删除
- 支持全选后批量删除

## 路线管理

​   系统管理员通过点击首页导航栏或左侧导航栏的系统管理中的“路线管理”进入路线管理页面。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/manageroute.jpg"/></center>

<center>**图5-16 路线管理**</center>

- 默认全查，输入出发地、目的地，支持模糊查询，查询到的航线以列表形式展现在页面中
- 航线信息包含：出发地、目的地、正常人流量、紧张人流量、饱和人流量
- 支持新增航线
- 航线管理基本操作包括编辑和删除
- 支持全选后批量删除

## 个人信息

​	成功登录系统后点击右上角用户名可以进入个人资料页。

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/info.jpg"/></center>

<center>**图5-17 个人资料**</center>

- 点击右上角修改个人资料，可以编辑姓名、电话和邮箱

<center><img src="http://otmfpj0s2.bkt.clouddn.com/imgs-update/changeps.jpg"/></center>

<center>**图5-18 修改密码**</center>

- 输入正确的初始密码、新密码、确认密码后可以修改登录密码